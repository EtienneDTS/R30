generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int     @id @default(autoincrement())
  email     String  @unique
  password  String
  firstName String
  lastName  String
  userName  String
  isAdmin   Boolean @default(false)

  Routine Routine[]
}

model Objectives {
  id                 Int     @id @default(autoincrement())
  objective1         String?
  objective2         String?
  objective3         String?
  objective4         String?
  objective5         String?
  objectiveAchieved1 Boolean? @default(false)
  objectiveAchieved2 Boolean? @default(false)
  objectiveAchieved3 Boolean? @default(false)
  objectiveAchieved4 Boolean? @default(false)
  objectiveAchieved5 Boolean? @default(false)
  morningHabit       String?
  eveningHabit       String?

  Routine Routine?
}

model Routine {
  id           Int         @id @default(autoincrement())
  name         String      @default("Routine")
  dateStart    DateTime    @db.Date
  dateEnd      DateTime    @db.Date
  finished     Boolean     @default(false)
  objectives   Objectives? @relation(fields: [objectivesId], references: [id])
  objectivesId Int?        @unique
  user         User        @relation(fields: [userId], references: [id])
  userId       Int

  dailyForm DailyForm?
}

model DailyForm {
  id           Int      @id @default(autoincrement())
  dayNumber    Int      
  diary        String?
  date         DateTime @db.Date
  dayRating    Int      @default(0)
  wakingUpHour DateTime? @db.Time
  bedtimeHour  DateTime? @db.Time
  morningHabit Boolean  @default(false)
  eveningHabit Boolean  @default(false)
  routine      Routine  @relation(fields: [routineId], references: [id])
  routineId    Int      @unique
  rightPath    Boolean?  @default(false)
}
